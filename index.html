<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <title>Games</title>
</head>
<body>
    <h1 id="title">Games</h1>
    <div id="searchdiv"><input type="text" name="search" id="search" placeholder="search"><span id="m" class="material-symbols-outlined">search</span></div>
    <div id="tilecontainer">
    </div>
    <button id="res" onclick="change()"></button>
    <button onclick="document.getElementById('blobwifi').scrollIntoView();" id="wifi">WiFi</button>
    <hr id="blobwifi" width="97%;" color="gray" size="3" style="position: relative;left: -10px;">
    <p id="sigma">BlobWifi exploit</p>
    <p id="sigma2">Instructions:</p>
    <div style="padding-left: 20px;text-wrap: pretty;width: 90vw;">
    <ul>
        <li>Go to chrome://network#state and scroll to the bottom of the page.</li>
        <li>You should see a section titled "Favorite Networks".</li>
        <li>Find the managed Wi-Fi network that you want to use Blobwifi in and click the + sign next to it.</li>
        <li>You should see some text pop up.</li>
        <li>Copy the entire text that showed up. If you want, you can copy the text of multiple Wi-Fi networks at the same time to use Blobwifi in all of them.</li>
        <li>Paste the copied text into the textbox below.</li>
        <li>Press the "Download" button to download the Blobwifi file.</li>
    </ul>
</div>
    <input type="text" id="blob" placeholder="Paste here">
    <button id="download" onclick="gen(document.getElementById('blob').value)">download</button>
    <div style="padding-left: 20px;position: relative;top: -40px;text-wrap: pretty;width: 90vw;">
    <p>Once you have downloaded the file, go to chrome://network#general</p>
    <p>Scroll down and click on the "Import ONC" button and import the newly downloaded file.</p>
    <p style="color: gray; font-size: smaller;">credit to blobby-boi on github as this uses his genorator script</p>
    </div>
</body>
</html>
<script>
    var gamelist = [ 
    {
    "link": "projects/nzp/index.html",
    "imgSrc": "https://avatars.githubusercontent.com/u/91418801?s=200&amp;v=4",
    "title": "NZ: portable"
  }
];
if (!localStorage.getItem('theme')) {
    localStorage.setItem("theme", "1")
 }

 function change() {
   if (localStorage.getItem('theme') == '1') {
     localStorage.setItem("theme", '0')
     themeToggle("light");
   } else {
     localStorage.setItem("theme", '1')
     themeToggle("dark");
   }
 }
 function themeToggle(sigma){
   let root = document.documentElement;
   if(sigma == "light"){
       root.style.setProperty("--back", "rgb(230, 230, 230)");
       root.style.setProperty("--font", "black");
       root.style.setProperty("--tile", "rgb(200, 200, 200)");
       document.getElementById("res").innerHTML= "<span id='g' class='material-symbols-outlined'>dark_mode</span>";
       root.style.setProperty("--res", "rgb(56, 56, 56)");
       root.style.setProperty("--themeicon", "white");
   }else if (sigma == "dark"){
       root.style.setProperty("--back", "rgb(56, 56, 56)");
       root.style.setProperty("--font", "white");
       root.style.setProperty("--tile", "rgb(70, 70, 70)");
       document.getElementById("res").innerHTML= "<span id='g' class='material-symbols-outlined'>light_mode</span>";
       root.style.setProperty("--res", "rgb(230, 230, 230)");
       root.style.setProperty("--themeicon", "black");
   }else{
       console.log("Invalid theme var input")
   }
 }
 var localskib;
 if(localStorage.getItem('theme')=="1"){var localskib = "dark"}else{var localskib = "light"}
 themeToggle(localskib);
var dataArr = {};
window.dataArr = gamelist;

$("#search").on('keypress keyup change input', function() { 
    var div = document.getElementById("tilecontainer");
    var arrival = $(this).val().toLowerCase();
    div.innerHTML = "";
    dataArr.filter(function(game) {
        return (game.title.toLowerCase().indexOf(arrival) !== -1);
    }).map(function(game) {

        var tile = document.createElement('div');
        tile.addEventListener('click', function() {location.href = game.link}, false);
        tile.classList.add("tile");
        tile.innerHTML = '<img src="'+game.imgSrc+'" alt="placeholder"><p class="sigma">'+game.title+'</p>';
        div.append(tile);
         
    });
    
});
    var div = document.getElementById("tilecontainer");
    var arrival = '';
    div.innerHTML = ""; 
    dataArr.filter(function(game) {

        return (game.title.toLowerCase().indexOf(arrival) !== -1);
    }).map(function(game) {

        var tile = document.createElement('div');
        tile.addEventListener('click', function() {location.href = game.link}, false);
        tile.classList.add("tile");
        tile.innerHTML = '<img src="'+game.imgSrc+'" alt="placeholder"><p class="sigma">'+game.title+'</p>';
        div.append(tile);
         
});
function gen(networks) {
  try {
    var networks;
    networks = networks.replace(/(?<=[+-]..){/g, "");
    networks = networks.replace(/(?<=})[^{\]}]*(?={.."C)/g, ",");
    networks = networks.substring(networks.indexOf("{"));
    networks = networks.substring(0, networks.lastIndexOf("}") + 1);
    networks = JSON.parse("[" + networks + "]");
    var onc = {
      Type: "UnencryptedConfiguration",
      NetworkConfigurations: [],
    };
    networks.forEach(function (network) {
      if (!network.WiFi || !network.Connectable) return;
      onc.NetworkConfigurations.push({
        GUID: network.GUID,
        Metered: true,
        Name: network.Name,
        Type: "WiFi",
        WiFi: {
          AutoConnect: true,
          SSID: network.Name,
          Security: "None",
        },
	NameServersConfigType: "Static",
	StaticIPConfig: {
	    NameServers: ["8.8.8.8", "8.8.4.4", "8.8.8.8", "8.8.4.4"]
	},
        ProxySettings:{
	    Type:"Direct"
	}
      });
    });

    if (!onc.NetworkConfigurations[0]) return;
    var link = document.createElement("a");
    link.href = URL.createObjectURL(new Blob([JSON.stringify(onc)]));
    link.download = "blobwifi.onc";
    link.click();
    link.remove();
  } catch (error) {
    console.error(error);
    alert("An error occurred, check console logs");
  }
}
</script>